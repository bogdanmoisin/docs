<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://www.elcodi.io/book/product-architecture/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Product architecture - Elcodi Documentation</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">

        <link href="../../css/elcodi.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../.."><img src="../../img/elcodi.png" height="30" /></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                
                
                
                    
                        <li >
                            <a href="../../quick-start/">Quick start</a>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown active">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Book <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
<li >
    <a href="../cart-architecture/">Cart architecture</a>
</li>

                            
                                
<li >
    <a href="../category-architecture/">Category architecture</a>
</li>

                            
                                
<li >
    <a href="../commands/">Commands</a>
</li>

                            
                                
<li >
    <a href="../coupon-architecture/">Coupon architecture</a>
</li>

                            
                                
<li >
    <a href="../dictionary/">Dictionary</a>
</li>

                            
                                
<li >
    <a href="../emails/">Emails</a>
</li>

                            
                                
<li >
    <a href="../events/">Events</a>
</li>

                            
                                
<li >
    <a href="../features/">Features</a>
</li>

                            
                                
<li >
    <a href="../">Home</a>
</li>

                            
                                
<li >
    <a href="../payments/">Payments</a>
</li>

                            
                                
<li >
    <a href="../philosophy/">Philosophy</a>
</li>

                            
                                
<li >
    <a href="../plugins/">Plugins</a>
</li>

                            
                                
<li >
    <a href="../processes/">Processes</a>
</li>

                            
                                
<li class="active">
    <a href="./">Product architecture</a>
</li>

                            
                                
<li >
    <a href="../pull-requests/">Pull requests</a>
</li>

                            
                                
<li >
    <a href="../roadmap/">Roadmap</a>
</li>

                            
                                
<li >
    <a href="../running-test-suite/">Running test suite</a>
</li>

                            
                                
<li >
    <a href="../shipping/">Shipping</a>
</li>

                            
                                
<li >
    <a href="../standards/">Standards</a>
</li>

                            
                                
<li >
    <a href="../templates/">Templates</a>
</li>

                            
                                
<li >
    <a href="../translate-elcodi/">Translate elcodi</a>
</li>

                            
                                
<li >
    <a href="../vagrant-quick-start/">Vagrant quick start</a>
</li>

                            
                                
<li >
    <a href="../what-is-elcodi/">What is elcodi</a>
</li>

                            
                                
<li >
    <a href="../why-elcodi/">Why elcodi</a>
</li>

                            
                            </ul>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
<li >
    <a href="../../cookbook/">Home</a>
</li>

                            
                                
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Installation</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../cookbook/installation/install-a-plugin/">Install a plugin</a>
</li>

        
            
<li >
    <a href="../../cookbook/installation/install-dependent-bundles/">Install dependent bundles</a>
</li>

        
    </ul>
  </li>

                            
                                
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Overwrite</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../cookbook/overwrite/overwrite-a-parameter/">Overwrite a parameter</a>
</li>

        
            
<li >
    <a href="../../cookbook/overwrite/overwrite-a-service/">Overwrite a service</a>
</li>

        
            
<li >
    <a href="../../cookbook/overwrite/overwrite-an-entity/">Overwrite an entity</a>
</li>

        
    </ul>
  </li>

                            
                                
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Deprecation</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../cookbook/deprecation/deprecate-a-method/">Deprecate a method</a>
</li>

        
    </ul>
  </li>

                            
                                
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Adapters</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../cookbook/adapters/currency-rates-populator/">Currency rates populator</a>
</li>

        
            
<li >
    <a href="../../cookbook/adapters/image-resize/">Image resize</a>
</li>

        
            
<li >
    <a href="../../cookbook/adapters/location-loader/">Location loader</a>
</li>

        
            
<li >
    <a href="../../cookbook/adapters/location-populator/">Location populator</a>
</li>

        
            
<li >
    <a href="../../cookbook/adapters/location-provider/">Location provider</a>
</li>

        
            
<li >
    <a href="../../cookbook/adapters/metric-bucket/">Metric bucket</a>
</li>

        
            
<li >
    <a href="../../cookbook/adapters/related-purchasables-provider/">Related purchasables provider</a>
</li>

        
    </ul>
  </li>

                            
                                
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Workflow</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../cookbook/workflow/create-automatic-coupon/">Create automatic coupon</a>
</li>

        
    </ul>
  </li>

                            
                                
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Usage</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../cookbook/usage/elcodi-watermark/">Elcodi watermark</a>
</li>

        
            
<li >
    <a href="../../cookbook/usage/referrer-domain/">Referrer domain</a>
</li>

        
    </ul>
  </li>

                            
                                
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Implementation</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../cookbook/implementation/implement-a-collector/">Implement a collector</a>
</li>

        
            
<li >
    <a href="../../cookbook/implementation/implement-a-controller-and-a-command/">Implement a controller and a command</a>
</li>

        
            
<li >
    <a href="../../cookbook/implementation/implement-a-factory/">Implement a factory</a>
</li>

        
            
<li >
    <a href="../../cookbook/implementation/implement-a-form-type/">Implement a form type</a>
</li>

        
            
<li >
    <a href="../../cookbook/implementation/implement-a-repository/">Implement a repository</a>
</li>

        
            
<li >
    <a href="../../cookbook/implementation/implement-an-entity/">Implement an entity</a>
</li>

        
            
<li >
    <a href="../../cookbook/implementation/implement-an-event-listener/">Implement an event listener</a>
</li>

        
    </ul>
  </li>

                            
                            </ul>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Component <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
<li >
    <a href="../../component/entity-translator/">Entity translator</a>
</li>

                            
                                
<li >
    <a href="../../component/">Home</a>
</li>

                            
                                
<li >
    <a href="../../component/media/">Media</a>
</li>

                            
                                
<li >
    <a href="../../component/menu/">Menu</a>
</li>

                            
                                
<li >
    <a href="../../component/metrics/">Metrics</a>
</li>

                            
                                
<li >
    <a href="../../component/sitemap/">Sitemap</a>
</li>

                            
                                
<li >
    <a href="../../component/state-transition-machine/">State transition machine</a>
</li>

                            
                                
<li >
    <a href="../../component/template/">Template</a>
</li>

                            
                            </ul>
                        </li>
                    
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../processes/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../pull-requests/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/elcodi/docs">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#product-architecture">Product Architecture</a></li>
        
            <li><a href="#purchasable">Purchasable</a></li>
        
            <li><a href="#product">Product</a></li>
        
            <li><a href="#variant">Variant</a></li>
        
            <li><a href="#attributes">Attributes</a></li>
        
            <li><a href="#manufacturer">Manufacturer</a></li>
        
            <li><a href="#categories">Categories</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="product-architecture">Product Architecture<a class="headerlink" href="#product-architecture" title="Permanent link"> #</a></h1>
<p>One of the main blocks in Elcodi is it's Product architecture. We assume that
all projects will need to handle with it's own Product model diagram, so we
propose a single one, based on the most basic scenario and with an architecture
where you will be able to modify the model as much as you need.</p>
<p><img alt="Product component model" src="../images/model-product-component.png" /></p>
<h2 id="purchasable">Purchasable<a class="headerlink" href="#purchasable" title="Permanent link"> #</a></h2>
<p>Because you should be able to add anything both a product or a variant in your
cart, we created the interface <code>Purchasable</code>. A purchasable is an object (any)
you can add into your cart.</p>
<p>In Elcodi we have implemented two completed classes implementing this interface:
Product and Variant. Both implementations are part of the Product component, and
composes all the needed structure to maintain all kind of products and
variations of this.</p>
<h2 id="product">Product<a class="headerlink" href="#product" title="Permanent link"> #</a></h2>
<p>The main entity of this component. A product is what you are going to sell, no
matter what it is and not taking in account variations of this. For example, our
product could be a simple T-shirt. No color, no size, just a simple T-shirt.</p>
<p>Each product contains all information related to that element, like price, some
dimensions (all of them optional, of course), a description and a name, a SKU,
the stock of that object, and some extra properties. All you need to make this 
element unique enough.</p>
<p>You can create a new Product like this.</p>
<pre><code class="php">use Elcodi\Component\Product\Entity\Product;

$product = new Product();
$product
    -&gt;setSku('123456789')
    -&gt;setStock(4)
    -&gt;setName('Strawberry cake')
    -&gt;setDescription('This is a strawberry cake');
</code></pre>

<p>Of course, the right way in Elcodi is always using factories instead of creating
new instances by hand.</p>
<pre><code class="php">$product = $this
    -&gt;productFactory
    -&gt;create()
    -&gt;setName('Strawberry cake')
    -&gt;setDescription('This is a strawberry cake');
</code></pre>

<p>This service should have this dependency injection definition</p>
<pre><code class="yaml">services:
    my_service:
        class: My\Service\Namespace
        arguments:
            - @elcodi.factory.product
</code></pre>

<p>Some times our E-commerce implementation only requires this infrastructure. If
you sell for example single cakes, then each cake is a product, and that should
be enough. Don't over-engineer your domain and project too much.</p>
<p>In other cases, for example if your e-commerce is selling some retail, then each
Product will have some variations. Let's see what a variation is and how we can
implement it in Elcodi.</p>
<h2 id="variant">Variant<a class="headerlink" href="#variant" title="Permanent link"> #</a></h2>
<p>A Variant is a simple variation of a Product. Returning to the example of
T-shirts, maybe you want to sell the same T-shirt in several colors, several
sizes and several logos behind it.</p>
<p>One option is having one single product per each combination, and that would be
a good approach indeed, but then you have no way of controlling all products
that belong to the same family. For example, if all variations have the same
price then you should add it several times in several instances. As soon as this
price changes, then you need to change it all around.</p>
<p>Bad choice, right?</p>
<p>If you have only one Product called T-shirt and you create the right structure
for maintaining some Attributes and some Values, then you can create several
Variants, each one containing one or more Values. Because a Variant is a
Purchasable as well, then you can add them as well in your Cart.</p>
<p>First of all, let's see how to create a variant, assuming we have the previous
product created.</p>
<pre><code class="php">use Elcodi\Component\Product\Entity\Product;
use Elcodi\Component\Product\Entity\Variant;

$product = new Product();
$product
    -&gt;setName('T-shirt, Dora the explorer')
    -&gt;setDescription('T-shirt of Dora');

$variant = new Variant
$variant
    -&gt;setSku('12341234')
    -&gt;setStock(10)
    -&gt;setName('Blue XL T-shirt with the logo')
    -&gt;setProduct($product);
</code></pre>

<p>Of course, the right way in Elcodi is always using factories instead of creating
new instances by hand.</p>
<pre><code class="php">$product = $this
    -&gt;productFactory
    -&gt;create()
    -&gt;setName('T-shirt, Dora the explorer')
    -&gt;setDescription('T-shirt of Dora');

$variant = $this
    -&gt;variantFactory
    -&gt;create()
    -&gt;setSku('12341234')
    -&gt;setStock(10)
    -&gt;setName('Blue XL T-shirt with the logo')
    -&gt;setProduct($product);
</code></pre>

<p>This service should have this dependency injection definition</p>
<pre><code class="yaml">services:
    my_service:
        class: My\Service\Namespace
        arguments:
            - @elcodi.factory.product
            - @elcodi.factory.variant
</code></pre>

<p>In fact, that code is not useful at all, so none of these variants have
attributes. Next step, creating a map of configurations for these Variants.</p>
<h2 id="attributes">Attributes<a class="headerlink" href="#attributes" title="Permanent link"> #</a></h2>
<p>A variant is composed by different attribute values. Let's check it out by using
the last example. T-shirt of Dora the explorer is available in colors blue, red
and green. Each one can be purchased in several sizes: S, M and L.</p>
<p>Each Variant is a Product and one of each attribute, called Value. So, there is
one Variant that will have internally the Value blue of the Attribute color, and
the Value S of the Attribute Size.</p>
<p>Assuming the piece of code we did before about product and variant...</p>
<pre><code class="php">$product = //;
$variant = //;

$attribute = $this
    -&gt;attributeFactory
    -&gt;create()
    -&gt;setName('size');

$value = $this
    -&gt;valueFactory
    -&gt;create()
    -&gt;setValue('S')
    -&gt;setAttribute($attribute);

$variant-&gt;setValue($value);
</code></pre>

<p>As you can see, the relation is done between the Attribute and the Value, but
because one Value can only have one Attribute, then the relation is done as well
between the Variant and the Attribute.</p>
<pre><code class="php">$attribute = $variant
    -&gt;getValue()
    -&gt;getAttribute();
</code></pre>

<h2 id="manufacturer">Manufacturer<a class="headerlink" href="#manufacturer" title="Permanent link"> #</a></h2>
<p>A product (and because a Product is always the master piece of any purchasable)
can have a manufacturer. The relation is easy and simple indeed, so there is no
much need of explaining how to work with this entity.</p>
<pre><code class="php">$product = //;

$manufacturer = $this
    -&gt;manufacturerFactory
    -&gt;create()
    -&gt;setName('Levis');

$product-&gt;setManufacturer($manufacturer);
</code></pre>

<h2 id="categories">Categories<a class="headerlink" href="#categories" title="Permanent link"> #</a></h2>
<p>There is an entire chapter for that in Elcodi's book. Please, read it carefully
in order to be able to work properly with categories in your project</p>
<ul>
<li><a href="http://elcodi.io/docs/book/category-architecture/">Category Architecture</a></li>
</ul></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
                <p>Copyright © 2014/2015 <a href="http://www.elcodi.io">Elcodi</a>. All rights reserved.</p>
            
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
